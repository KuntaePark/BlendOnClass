<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>질문 상세보기</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gradient-to-br from-purple-900 via-indigo-900 to-pink-800 min-h-screen flex items-center justify-center p-8">
<div
        th:object="${questionShowDto}"
        class="max-w-3xl w-full bg-white rounded-3xl shadow-2xl p-10 space-y-10"
>
    <!-- 질문 제목 -->
    <section>
        <h2 class="text-4xl font-extrabold text-indigo-900 mb-4">❓ 질문</h2>
        <p
                th:text="*{title}"
                class="text-2xl font-semibold text-indigo-700 leading-relaxed"
        ></p>
    </section>

    <!-- 질문 내용 -->
    <section>
        <h2 class="text-3xl font-bold text-indigo-900 mb-4">내용</h2>
        <p
                th:text="*{qContext}"
                class="text-lg text-indigo-800 whitespace-pre-line leading-relaxed"
        ></p>
    </section>

    <!-- 답변 작성 (답변 없을 때만) -->
    <th:block th:if="*{aContext == null}">
        <section class="bg-indigo-50 rounded-2xl p-6 shadow-inner border-2 border-indigo-300">
            <form th:action="@{'/post/answer?id='+*{id}}" method="post" class="space-y-6">
                <h2 class="text-3xl font-semibold text-indigo-900 mb-2">💬 답변 작성</h2>
                <textarea
                        name="aContext"
                        rows="6"
                        placeholder="답변을 입력하세요..."
                        class="w-full p-4 text-lg rounded-2xl border-4 border-indigo-600 focus:border-pink-500 focus:ring-4 focus:ring-pink-300 outline-none resize-none transition shadow-md"
                        required
                ></textarea>
                <button
                        type="submit"
                        class="bg-pink-600 hover:bg-pink-700 text-white font-bold text-xl px-10 py-4 rounded-full shadow-lg transition transform hover:-translate-y-1 active:scale-95"
                >
                    답변 작성
                </button>
            </form>
        </section>
    </th:block>

    <!-- 답변 내용 및 삭제 -->
    <section>
        <h2 class="text-3xl font-extrabold text-indigo-900 mb-4">💬 답변</h2>
        <form th:action="@{'/post/answer/delete?id='+*{id}}" method="post" class="space-y-4 bg-white p-6 rounded-2xl shadow-lg border border-indigo-300">
            <p th:text="*{aContext}" class="text-indigo-800 text-lg leading-relaxed whitespace-pre-line"></p>
            <div class="flex justify-end">
                <button
                        type="submit"
                        class="text-red-600 font-semibold hover:text-red-800 hover:underline focus:outline-none"
                >
                    답변 삭제
                </button>
            </div>
        </form>
    </section>

    <!-- 질문 삭제 -->
    <section class="flex justify-end">
        <form th:action="@{'/post/question/delete?id='+*{id}}" method="post" onsubmit="return confirm('정말 질문을 삭제하시겠습니까?')" >
            <button
                    type="submit"
                    class="text-red-700 text-xl font-extrabold hover:text-red-900 hover:underline focus:outline-none"
            >
                질문 삭제
            </button>
        </form>
    </section>
</div>
</body>
</html>