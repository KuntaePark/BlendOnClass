<!DOCTYPE html>
<html lang="ko"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{fragment/default}">

<th:block layout:fragment="css"></th:block>
<th:block layout:fragment="script">
    <script th:inline="javascript">
        const originalData = [[${scoreDataDtos}]];
        const classroomId = [[${classroomId}]];
        console.log(originalData);
    </script>
</th:block>

<div layout:fragment="main" id="main">
    <h1>학습성과 페이지</h1>
    <div>
        <select th:if="${session.role.role.equals('ROLE_STUDENT')}" id="grade-select">
            <option value="">학년 선택</option>
            <option value=1>1</option>
            <option value=2>2</option>
            <option value=3>3</option>
        </select>
        <select id="subj-select">
            <option value="">과목 선택</option>
            <th:block th:with="SUBJECT=${T(com.blendonclass.constant.SUBJECT)}">
                <th:block th:each="subject : ${SUBJECT.values()}">
                    <option th:if="${subject != SUBJECT.HR}" th:value="${subject}" th:text="${subject.getSubject()}"></option>
                </th:block>
            </th:block>
        </select>
        <select id="category-select" onchange="onCategoryChange()">
            <option value="major">대단원</option>
            <option value="minor">소단원</option>
        </select>

        <canvas id="myChart"></canvas>
    </div>

    <script src="/javascript/scorechart.js" type="text/javascript"></script>
</div>
</html>